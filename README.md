# ğŸ“… n8n AI Agent: Google Calendar æ™ºèƒ½å°å¹«æ‰‹

é€™æ˜¯ä¸€å€‹æ•´åˆäº† AI Agent æŠ€è¡“çš„ n8n è‡ªå‹•åŒ–å·¥ä½œæµã€‚é€éèˆ‡ OpenAI GPT æ¨¡å‹åŠ Google Calendar API çš„æ·±åº¦çµåˆï¼Œä½¿ç”¨è€…å¯ä»¥ç”¨è‡ªç„¶èªè¨€è¼•é¬†ç®¡ç†è¡Œäº‹æ›†ï¼Œç„¡éœ€æ‰‹å‹•é»é¸è¤‡é›œçš„ä»‹é¢ã€‚

## ğŸ“– æµç¨‹ç°¡ä»‹

æœ¬å°ˆæ¡ˆåˆ©ç”¨ AI Agent çš„ã€Œæ¨ç†èƒ½åŠ›ã€èˆ‡ã€Œå·¥å…·èª¿ç”¨ (Tool Calling)ã€åŠŸèƒ½ï¼Œå¯¦ç¾äº†ä»¥ä¸‹è‡ªå‹•åŒ–é‚è¼¯ï¼š
1. **è§¸ç™¼å±¤**ï¼šé€é n8n Chat æ¥æ”¶æŒ‡ä»¤ï¼ˆå¦‚ï¼šã€Œå¹«æˆ‘ç´„æ˜å¤©ä¸‹åˆä¸‰é»èˆ‡å°æ˜é–‹æœƒã€ï¼‰ã€‚
2. **æ¨ç†å±¤ (Agent)**ï¼šAI è‡ªå‹•è¨ˆç®—ç•¶å‰æ—¥æœŸï¼Œä¸¦åˆ¤æ–·æŒ‡ä»¤æ„åœ–ã€‚
3. **åŸ·è¡Œå±¤ (Tools)**ï¼šæ ¹æ“šåˆ¤æ–·çµæœï¼Œè‡ªå‹•èª¿ç”¨ Google Calendar é€²è¡Œæ–°å¢ã€æŸ¥è©¢ã€æ›´æ–°æˆ–åˆªé™¤äº‹ä»¶ã€‚

### æ ¸å¿ƒç¯€é»é…ç½®
* **When chat message received**: æ¥æ”¶å°è©±è¼¸å…¥ï¼Œä¸¦ä½œç‚º Agent çš„å•Ÿå‹•é»ã€‚
* **AI Agent (OpenAI)**ï¼š
    * **æ ¸å¿ƒæŒ‡ä»¤**ï¼šå…§å»ºã€Œç·Šæ€¥åŸ·è¡Œã€è¦å‰‡ï¼Œç¢ºä¿ AI æœƒå…ˆæ ¹æ“šç›®å‰æ—¥æœŸæ¨ç®—ã€Œæ˜å¤©ã€æˆ–ã€Œä¸‹é€±ã€çš„ç²¾æº–æ—¥æœŸã€‚
    * **æ—¥æœŸè¨ˆç®—**ï¼šæ•´åˆ `date_calculator` å·¥å…·ï¼Œè™•ç†è·¨æœˆèˆ‡æ˜ŸæœŸçš„æ•¸å­¸æ¨ç®—ã€‚
* **Google Calendar å·¥å…·**ï¼š
    * **CRUD æ”¯æ´**ï¼šæ”¯æ´å»ºç«‹ (C)ã€è®€å– (R)ã€æ›´æ–° (U) èˆ‡åˆªé™¤ (D) æ“ä½œã€‚
    * **å…¨å¤©/æ™‚é–“åˆ¤æ–·**ï¼šç²¾æº–å€åˆ† `allday` äº‹ä»¶èˆ‡ç‰¹å®šæ™‚é–“é»äº‹ä»¶ã€‚

## ğŸ› ï¸ å®‰è£èˆ‡ä½¿ç”¨

### 1. åŒ¯å…¥å·¥ä½œæµ
ä¸‹è¼‰æœ¬å€‰åº«ä¸­çš„ `google-calendar-agent-template.json` æª”æ¡ˆï¼Œä¸¦åœ¨æ‚¨çš„ n8n é¢æ¿é¸æ“‡ **"Import from File"** é€²è¡ŒåŒ¯å…¥ã€‚

### 2. è¨­å®šæ†‘è­‰ (Credentials)
æœ¬å·¥ä½œæµéœ€è¦é…ç½®å…©çµ„æ†‘è­‰ï¼š
* **OpenAI API**ï¼šç”¨æ–¼é©…å‹• AI Agent é€²è¡Œæ¨ç†ã€‚
* **Google Calendar OAuth2**ï¼šç”¨æ–¼è®€å–èˆ‡ä¿®æ”¹æ‚¨çš„ Google è¡Œäº‹æ›†ã€‚

### 3. é–‹å§‹ä½¿ç”¨
é»æ“Š n8n ç•«é¢ä¸‹æ–¹çš„ **"Open chat"**ï¼Œå˜—è©¦è¼¸å…¥ï¼š
* ã€Œå¹«æˆ‘çœ‹çœ‹ä»Šå¤©ä¸‹åˆæœ‰ä»€éº¼å®‰æ’ï¼Ÿã€
* ã€Œä¸‹é€±äºŒæ•´å¤©è¦å‡ºå·®ï¼Œå¹«æˆ‘è¨˜ä¸‹ä¾†ã€‚ã€
* ã€Œå–æ¶ˆæ˜å¤©ä¸‰é»çš„é‚£å€‹æœƒè­°ã€‚ã€

## ğŸ“Š æµç¨‹çµæ§‹

ä½¿ç”¨ Markdown å…§å»ºçš„ Mermaid èªæ³•å‘ˆç¾æµç¨‹é‚è¼¯ï¼š

```mermaid
graph TD
    A[ğŸ—¨ï¸ Chat Trigger] --> B[ğŸ§  AI Agent<br/>OpenAI GPT]
    B <--> C{ğŸ› ï¸ Tools}
    C --> D[ğŸ“… Google Calendar<br/>CRUD Ops]
    C --> E[ğŸ”¢ Date Calculator]
    B --> F[ğŸ’¬ å›å‚³è™•ç†çµæœ]
```

## ğŸ“¸ åŸ·è¡Œæˆªåœ–ç¯„ä¾‹

![å·¥ä½œæµé…ç½®](/images/Workflow.png)
![çµæœ](/images/result.png)

*åœ–ï¼šAI Agent æ ¹æ“šç•¶å‰æ—¥æœŸæˆåŠŸæ¨ç®—ä¸¦å®Œæˆè¡Œäº‹æ›†é ç´„ã€‚*
